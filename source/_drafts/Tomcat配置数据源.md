---
title: Tomcat配置数据源
tags: Tomcat
category: Server
---

最近公司将原来在代码中配置的数据源转移到Tomcat中，现在就简单看看如何配置和使用Tomcat数据源。

## 为什么使用Tomcat数据源
我们公司在Liferay环境下进行开发，也就是使用portlet开发方式，每个portlet中配置数据库连接池的依赖，然后由Spring注入使用。这样做一个很大的问题是对数据库的负载太重，如果每个porlet最小连接为3,10个porlet最少就需要30个数据库的连接。另一个比较重要的原因是管理数据库的连接比较方便，比如切换数据库只需要在一个地方修改即可。

在配置Tomcat数据源时，所有的参数都使用环境变量，这样一来数据的连接信息就会被隐藏起来，原来是硬编码在配置文件中，现在如果想得到连接信息就需要获得服务器系统的权限。当然使用原来的方式也可以使用环境变量，问题主要是要修改的地方太多，不便于管理。

简单来说就是两个问题，更多更详细的信息可以参考下面的参考链接：
1. 性能问题
2. 管理问题


<!--more-->

## 参考链接
1. [JNDI 在 J2EE 中的角色](https://www.ibm.com/developerworks/cn/java/j-jndi/)