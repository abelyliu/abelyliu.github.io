---
title: 命令行修改系统代理
date: 2016-11-24 16:15:37
tags: Shell
category: Linux
---
在公司开发时，有时候需要连接公司的服务器，这时候需要通过代理才能连接服务器，但是公司的内网会屏蔽一些网站，在查询资料略有不便，需要切换网络。
如果是访问网页，那我们可以使用Chrome的SwitchyOmega插件，但是有时候应用也需要切换代理，这时候就需要在设置面板修改，感觉比较繁琐，于是上网查询了一下修改代理的命令。
<!--more-->
鄙人比较懒惰，简化了一下指令长度，当然也可以使用alias方式。
```sh
#!/bin/bash
if [[ $1 == "none" ]]; then
  gsettings set org.gnome.system.proxy mode 'none'
elif [[ $1 == "manual" ]]; then
	gsettings set org.gnome.system.proxy mode 'manual'
elif [[ $1 == "-h" ]]; then
	echo none
	echo manual
else
	echo "input error"
fi
# to change system proxy using shell script try these:
# gsettings set org.gnome.system.proxy mode 'manual'
# gsettings set org.gnome.system.proxy.http enabled true
# gsettings set org.gnome.system.proxy.http host 'proxy.server.addr'
# gsettings set org.gnome.system.proxy.http port proxy_port


# if you have user authentication pass and id
# gsettings set org.gnome.system.proxy.http authentication-user 'user_id'
# gsettings set org.gnome.system.proxy.http authentication-password 'password'

# to use http_proxy for all other proxy
# gsettings set org.gnome.system.proxy use-same-proxy true

# to set bypass proxy for any host
# gsettings set org.gnome.system.proxy ignore-hosts "['localhost',  '127.0.0.1', 'all', 'other', 'hosts']"
```